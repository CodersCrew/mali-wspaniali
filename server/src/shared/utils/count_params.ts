interface UserDetails {
  birthYear: number;
  birthQuarter: number;
  sex: string;
}

interface AssessmentParam {
  a: number;
  b: number;
  lowerLimit: number;
  lowerLimitPoints: number;
  upperLimit: number;
  upperLimitPoints: number;
  sex: string;
  age: number;
  badStageLimit: number;
  weakStageLimit: number;
  middleStageLimit: number;
  goodStageLimit: number;
  veryGoodStageLimit: number;
  minScale: number;
  scale39: number;
  scale49: number;
  scale59: number;
  maxScale: number;
}

export function countParams(details: UserDetails, date: Date = new Date()) {
  const age = date.getFullYear() - details.birthYear;

  return {
    run: getRunParams(age, details),
    pendelumRun: getRunPendelumParams(age, details),
    throw: getThrowParams(age, details),
    jump: getJumpParams(age, details),
  };
}

function getRunParams(
  age: number,
  details: UserDetails,
): AssessmentParam | undefined {
  return pointsRun.find(p => p.age === age && p.sex === details.sex);
}

function getRunPendelumParams(
  age: number,
  details: UserDetails,
): AssessmentParam | undefined {
  return pointsPendulumRun.find(p => p.age === age && p.sex === details.sex);
}

function getThrowParams(
  age: number,
  details: UserDetails,
): AssessmentParam | undefined {
  return pointsThrow.find(p => p.age === age && p.sex === details.sex);
}

function getJumpParams(
  age: number,
  details: UserDetails,
): AssessmentParam | undefined {
  return pointsJump.find(p => p.age === age && p.sex === details.sex);
}

const pointsRun: AssessmentParam[] = [
  {
    sex: 'female',
    age: 3,
    a: -14.48,
    b: 156.0393,
    lowerLimit: 5.8,
    lowerLimitPoints: 74,
    upperLimit: 9.1,
    upperLimitPoints: 24,
    badStageLimit: 9.1,
    weakStageLimit: 8.1,
    middleStageLimit: 7.4,
    goodStageLimit: 6.7,
    veryGoodStageLimit: 3.7,
    minScale: 9.1,
    scale39: 8.1,
    scale49: 7.4,
    scale59: 6.7,
    maxScale: 3.7,
  },
  {
    sex: 'female',
    age: 4,
    a: -17.8,
    b: 163.7702,
    lowerLimit: 5.3,
    lowerLimitPoints: 68,
    upperLimit: 8.6,
    upperLimitPoints: 12,
    badStageLimit: 9.1,
    weakStageLimit: 7,
    middleStageLimit: 6.4,
    goodStageLimit: 5.9,
    veryGoodStageLimit: 3.7,
    minScale: 9.1,
    scale39: 7,
    scale49: 6.4,
    scale59: 5.9,
    maxScale: 3.7,
  },
  {
    sex: 'female',
    age: 5,
    a: -17.42,
    b: 148.9484,
    lowerLimit: 4.2,
    lowerLimitPoints: 75,
    upperLimit: 8,
    upperLimitPoints: 9,
    badStageLimit: 9.1,
    weakStageLimit: 6.3,
    middleStageLimit: 5.7,
    goodStageLimit: 5.2,
    veryGoodStageLimit: 3.7,
    minScale: 9.1,
    scale39: 6.3,
    scale49: 5.7,
    scale59: 5.2,
    maxScale: 3.7,
  },
  {
    sex: 'female',
    age: 6,
    a: -18.93,
    b: 147.5704,
    lowerLimit: 3.8,
    lowerLimitPoints: 75,
    upperLimit: 6.7,
    upperLimitPoints: 20,
    badStageLimit: 9.1,
    weakStageLimit: 5.7,
    middleStageLimit: 5.2,
    goodStageLimit: 4.7,
    veryGoodStageLimit: 3.7,
    minScale: 9.1,
    scale39: 5.7,
    scale49: 5.2,
    scale59: 4.7,
    maxScale: 3.7,
  },
  {
    sex: 'female',
    age: 7,
    a: -22.71,
    b: 161.7662,
    lowerLimit: 3.7,
    lowerLimitPoints: 77,
    upperLimit: 6.2,
    upperLimitPoints: 19,
    badStageLimit: 9.1,
    weakStageLimit: 5.4,
    middleStageLimit: 5,
    goodStageLimit: 4.5,
    veryGoodStageLimit: 3.7,
    minScale: 9.1,
    scale39: 5.4,
    scale49: 5,
    scale59: 4.5,
    maxScale: 3.7,
  },
  {
    sex: 'male',
    age: 3,
    a: -13.52,
    b: 142.4205,
    lowerLimit: 5.1,
    lowerLimitPoints: 73,
    upperLimit: 8.3,
    upperLimitPoints: 30,
    badStageLimit: 8.4,
    weakStageLimit: 7.6,
    middleStageLimit: 6.9,
    goodStageLimit: 6.2,
    veryGoodStageLimit: 3.6,
    minScale: 8.4,
    scale39: 7.6,
    scale49: 6.9,
    scale59: 6.2,
    maxScale: 3.6,
  },
  {
    sex: 'male',
    age: 4,
    a: -18.13,
    b: 158.7722,
    lowerLimit: 4.5,
    lowerLimitPoints: 77,
    upperLimit: 7.6,
    upperLimitPoints: 21,
    badStageLimit: 8.4,
    weakStageLimit: 6.6,
    middleStageLimit: 6.1,
    goodStageLimit: 5.5,
    veryGoodStageLimit: 3.6,
    minScale: 8.4,
    scale39: 6.6,
    scale49: 6.1,
    scale59: 5.5,
    maxScale: 3.6,
  },
  {
    sex: 'male',
    age: 5,
    a: -19.07,
    b: 156.656,
    lowerLimit: 4.1,
    lowerLimitPoints: 79,
    upperLimit: 7.2,
    upperLimitPoints: 20,
    badStageLimit: 8.4,
    weakStageLimit: 6.2,
    middleStageLimit: 5.6,
    goodStageLimit: 5.1,
    veryGoodStageLimit: 3.6,
    minScale: 8.4,
    scale39: 6.2,
    scale49: 5.6,
    scale59: 5.1,
    maxScale: 3.6,
  },
  {
    sex: 'male',
    age: 6,
    a: -21.03,
    b: 157.886,
    lowerLimit: 3.8,
    lowerLimitPoints: 78,
    upperLimit: 6.7,
    upperLimitPoints: 17,
    badStageLimit: 8.4,
    weakStageLimit: 5.7,
    middleStageLimit: 5.2,
    goodStageLimit: 4.7,
    veryGoodStageLimit: 3.6,
    minScale: 8.4,
    scale39: 5.7,
    scale49: 5.2,
    scale59: 4.7,
    maxScale: 3.6,
  },
  {
    sex: 'male',
    age: 7,
    a: -23.94,
    b: 162.6581,
    lowerLimit: 3.6,
    lowerLimitPoints: 78,
    upperLimit: 6.2,
    upperLimitPoints: 18,
    badStageLimit: 8.4,
    weakStageLimit: 5.2,
    middleStageLimit: 4.7,
    goodStageLimit: 4.3,
    veryGoodStageLimit: 3.6,
    minScale: 8.4,
    scale39: 5.2,
    scale49: 4.7,
    scale59: 4.3,
    maxScale: 3.6,
  },
];

const pointsPendulumRun: AssessmentParam[] = [
  {
    sex: 'female',
    age: 3,
    a: -7.917,
    b: 162.4772,
    lowerLimit: 11.2,
    lowerLimitPoints: 75,
    upperLimit: 16.5,
    upperLimitPoints: 30,
    badStageLimit: 17.1,
    weakStageLimit: 15.6,
    middleStageLimit: 14.3,
    goodStageLimit: 13.1,
    veryGoodStageLimit: 7.2,
    minScale: 17.1,
    scale39: 15.6,
    scale49: 14.3,
    scale59: 13.1,
    maxScale: 7.2,
  },
  {
    sex: 'female',
    age: 4,
    a: -7.951,
    b: 144.2691,
    lowerLimit: 9,
    lowerLimitPoints: 74,
    upperLimit: 16.1,
    upperLimitPoints: 16,
    badStageLimit: 17.1,
    weakStageLimit: 13.2,
    middleStageLimit: 12,
    goodStageLimit: 10.7,
    veryGoodStageLimit: 7.2,
    minScale: 17.1,
    scale39: 13.2,
    scale49: 12,
    scale59: 10.7,
    maxScale: 7.2,
  },
  {
    sex: 'female',
    age: 5,
    a: -9.565,
    b: 153.1276,
    lowerLimit: 8.4,
    lowerLimitPoints: 74,
    upperLimit: 14.5,
    upperLimitPoints: 16,
    badStageLimit: 17.1,
    weakStageLimit: 11.9,
    middleStageLimit: 10.9,
    goodStageLimit: 9.8,
    veryGoodStageLimit: 7.2,
    minScale: 17.1,
    scale39: 11.9,
    scale49: 10.9,
    scale59: 9.8,
    maxScale: 7.2,
  },
  {
    sex: 'female',
    age: 6,
    a: -10.7,
    b: 154.3362,
    lowerLimit: 7.8,
    lowerLimitPoints: 73,
    upperLimit: 12.7,
    upperLimitPoints: 18,
    badStageLimit: 17.1,
    weakStageLimit: 10.8,
    middleStageLimit: 9.8,
    goodStageLimit: 8.9,
    veryGoodStageLimit: 7.2,
    minScale: 17.1,
    scale39: 10.8,
    scale49: 9.8,
    scale59: 8.9,
    maxScale: 7.2,
  },
  {
    sex: 'female',
    age: 7,
    a: -10.82,
    b: 151.9698,
    lowerLimit: 7.4,
    lowerLimitPoints: 73,
    upperLimit: 12.1,
    upperLimitPoints: 19,
    badStageLimit: 17.1,
    weakStageLimit: 10.4,
    middleStageLimit: 9.5,
    goodStageLimit: 8.6,
    veryGoodStageLimit: 7.2,
    minScale: 17.1,
    scale39: 10.4,
    scale49: 9.5,
    scale59: 8.6,
    maxScale: 7.2,
  },
  {
    sex: 'male',
    age: 3,
    a: -9.069,
    b: 173.615,
    lowerLimit: 10.7,
    lowerLimitPoints: 79,
    upperLimit: 16.8,
    upperLimitPoints: 22,
    badStageLimit: 17.1,
    weakStageLimit: 14.8,
    middleStageLimit: 13.7,
    goodStageLimit: 12.6,
    veryGoodStageLimit: 7.2,
    minScale: 17.1,
    scale39: 14.8,
    scale49: 13.7,
    scale59: 12.6,
    maxScale: 7.2,
  },
  {
    sex: 'male',
    age: 4,
    a: -8.495,
    b: 147.0759,
    lowerLimit: 8.3,
    lowerLimitPoints: 79,
    upperLimit: 14.8,
    upperLimitPoints: 21,
    badStageLimit: 17.1,
    weakStageLimit: 12.7,
    middleStageLimit: 11.5,
    goodStageLimit: 10.4,
    veryGoodStageLimit: 7.2,
    minScale: 17.1,
    scale39: 12.7,
    scale49: 11.5,
    scale59: 10.4,
    maxScale: 7.2,
  },
  {
    sex: 'male',
    age: 5,
    a: -8.238,
    b: 137.9575,
    lowerLimit: 7.5,
    lowerLimitPoints: 79,
    upperLimit: 14.2,
    upperLimitPoints: 21,
    badStageLimit: 17.1,
    weakStageLimit: 12,
    middleStageLimit: 10.8,
    goodStageLimit: 9.6,
    veryGoodStageLimit: 7.2,
    minScale: 17.1,
    scale39: 12,
    scale49: 10.8,
    scale59: 9.6,
    maxScale: 7.2,
  },
  {
    sex: 'male',
    age: 6,
    a: -9.854,
    b: 147.4032,
    lowerLimit: 7.5,
    lowerLimitPoints: 75,
    upperLimit: 12.8,
    upperLimitPoints: 20,
    badStageLimit: 17.1,
    weakStageLimit: 11,
    middleStageLimit: 10,
    goodStageLimit: 9,
    veryGoodStageLimit: 7.2,
    minScale: 17.1,
    scale39: 11,
    scale49: 10,
    scale59: 9,
    maxScale: 7.2,
  },
  {
    sex: 'male',
    age: 7,
    a: -12.32,
    b: 162.4347,
    lowerLimit: 7.3,
    lowerLimitPoints: 75,
    upperLimit: 12.2,
    upperLimitPoints: 12,
    badStageLimit: 17.1,
    weakStageLimit: 10,
    middleStageLimit: 9.2,
    goodStageLimit: 8.4,
    veryGoodStageLimit: 7.2,
    minScale: 17.1,
    scale39: 10,
    scale49: 9.2,
    scale59: 8.4,
    maxScale: 7.2,
  },
];

const pointsThrow: AssessmentParam[] = [
  {
    sex: 'female',
    age: 3,
    a: 0.5189,
    b: -11.0281,
    lowerLimit: 70,
    lowerLimitPoints: 25,
    upperLimit: 180,
    upperLimitPoints: 82,
    badStageLimit: 70,
    weakStageLimit: 100,
    middleStageLimit: 120,
    goodStageLimit: 130,
    veryGoodStageLimit: 500,
    minScale: 70,
    scale39: 100,
    scale49: 120,
    scale59: 130,
    maxScale: 500,
  },
  {
    sex: 'female',
    age: 4,
    a: 0.3043,
    b: 1.6087,
    lowerLimit: 80,
    lowerLimitPoints: 27,
    upperLimit: 300,
    upperLimitPoints: 93,
    badStageLimit: 70,
    weakStageLimit: 120,
    middleStageLimit: 160,
    goodStageLimit: 190,
    veryGoodStageLimit: 500,
    minScale: 70,
    scale39: 120,
    scale49: 160,
    scale59: 190,
    maxScale: 500,
  },
  {
    sex: 'female',
    age: 5,
    a: 0.2889,
    b: -7.6126,
    lowerLimit: 90,
    lowerLimitPoints: 19,
    upperLimit: 310,
    upperLimitPoints: 84,
    badStageLimit: 70,
    weakStageLimit: 160,
    middleStageLimit: 200,
    goodStageLimit: 230,
    veryGoodStageLimit: 500,
    minScale: 70,
    scale39: 160,
    scale49: 200,
    scale59: 230,
    maxScale: 500,
  },
  {
    sex: 'female',
    age: 6,
    a: 0.2412,
    b: -11.0386,
    lowerLimit: 160,
    lowerLimitPoints: 28,
    upperLimit: 380,
    upperLimitPoints: 81,
    badStageLimit: 70,
    weakStageLimit: 210,
    middleStageLimit: 250,
    goodStageLimit: 290,
    veryGoodStageLimit: 500,
    minScale: 70,
    scale39: 210,
    scale49: 250,
    scale59: 290,
    maxScale: 500,
  },
  {
    sex: 'female',
    age: 7,
    a: 0.1808,
    b: -4.1377,
    lowerLimit: 140,
    lowerLimitPoints: 21,
    upperLimit: 470,
    upperLimitPoints: 81,
    badStageLimit: 70,
    weakStageLimit: 240,
    middleStageLimit: 290,
    goodStageLimit: 350,
    veryGoodStageLimit: 500,
    minScale: 70,
    scale39: 240,
    scale49: 290,
    scale59: 350,
    maxScale: 500,
  },
  {
    sex: 'male',
    age: 3,
    a: 0.3646,
    b: -0.7631,
    lowerLimit: 80,
    lowerLimitPoints: 29,
    upperLimit: 220,
    upperLimitPoints: 79,
    badStageLimit: 70,
    weakStageLimit: 110,
    middleStageLimit: 140,
    goodStageLimit: 160,
    veryGoodStageLimit: 540,
    minScale: 70,
    scale39: 110,
    scale49: 140,
    scale59: 160,
    maxScale: 540,
  },
  {
    sex: 'male',
    age: 4,
    a: 0.2757,
    b: 0.6476,
    lowerLimit: 80,
    lowerLimitPoints: 27,
    upperLimit: 310,
    upperLimitPoints: 88,
    badStageLimit: 70,
    weakStageLimit: 140,
    middleStageLimit: 180,
    goodStageLimit: 210,
    veryGoodStageLimit: 540,
    minScale: 70,
    scale39: 140,
    scale49: 180,
    scale59: 210,
    maxScale: 540,
  },
  {
    sex: 'male',
    age: 5,
    a: 0.2411,
    b: -3.8072,
    lowerLimit: 120,
    lowerLimitPoints: 27,
    upperLimit: 370,
    upperLimitPoints: 86,
    badStageLimit: 70,
    weakStageLimit: 180,
    middleStageLimit: 220,
    goodStageLimit: 260,
    veryGoodStageLimit: 540,
    minScale: 70,
    scale39: 180,
    scale49: 220,
    scale59: 260,
    maxScale: 540,
  },
  {
    sex: 'male',
    age: 6,
    a: 0.1966,
    b: -4.9509,
    lowerLimit: 160,
    lowerLimitPoints: 28,
    upperLimit: 370,
    upperLimitPoints: 68,
    badStageLimit: 70,
    weakStageLimit: 220,
    middleStageLimit: 270,
    goodStageLimit: 330,
    veryGoodStageLimit: 540,
    minScale: 70,
    scale39: 220,
    scale49: 270,
    scale59: 330,
    maxScale: 540,
  },
  {
    sex: 'male',
    age: 7,
    a: 0.1594,
    b: -5.0865,
    lowerLimit: 190,
    lowerLimitPoints: 26,
    upperLimit: 540,
    upperLimitPoints: 81,
    badStageLimit: 70,
    weakStageLimit: 280,
    middleStageLimit: 340,
    goodStageLimit: 400,
    veryGoodStageLimit: 540,
    minScale: 70,
    scale39: 280,
    scale49: 340,
    scale59: 400,
    maxScale: 540,
  },
];

const pointsJump: AssessmentParam[] = [
  {
    sex: 'female',
    age: 3,
    a: 0.8702,
    b: 8.8728,
    lowerLimit: 25,
    lowerLimitPoints: 28,
    upperLimit: 91,
    upperLimitPoints: 88,
    badStageLimit: 21,
    weakStageLimit: 35,
    middleStageLimit: 46,
    goodStageLimit: 58,
    veryGoodStageLimit: 165,
    minScale: 21,
    scale39: 35,
    scale49: 46,
    scale59: 58,
    maxScale: 165,
  },
  {
    sex: 'female',
    age: 4,
    a: 0.6615,
    b: 3.9683,
    lowerLimit: 35,
    lowerLimitPoints: 24,
    upperLimit: 122,
    upperLimitPoints: 84,
    badStageLimit: 21,
    weakStageLimit: 53,
    middleStageLimit: 68,
    goodStageLimit: 83,
    veryGoodStageLimit: 165,
    minScale: 21,
    scale39: 53,
    scale49: 68,
    scale59: 83,
    maxScale: 165,
  },
  {
    sex: 'female',
    age: 5,
    a: 0.6253,
    b: -4.7945,
    lowerLimit: 45,
    lowerLimitPoints: 22,
    upperLimit: 136,
    upperLimitPoints: 81,
    badStageLimit: 21,
    weakStageLimit: 70,
    middleStageLimit: 86,
    goodStageLimit: 102,
    veryGoodStageLimit: 165,
    minScale: 21,
    scale39: 70,
    scale49: 86,
    scale59: 102,
    maxScale: 165,
  },
  {
    sex: 'female',
    age: 6,
    a: 0.6813,
    b: -21.3846,
    lowerLimit: 60,
    lowerLimitPoints: 19,
    upperLimit: 151,
    upperLimitPoints: 85,
    badStageLimit: 21,
    weakStageLimit: 89,
    middleStageLimit: 103,
    goodStageLimit: 118,
    veryGoodStageLimit: 165,
    minScale: 21,
    scale39: 89,
    scale49: 103,
    scale59: 118,
    maxScale: 165,
  },
  {
    sex: 'female',
    age: 7,
    a: 0.5617,
    b: -14.6854,
    lowerLimit: 60,
    lowerLimitPoints: 18,
    upperLimit: 161,
    upperLimitPoints: 80,
    badStageLimit: 21,
    weakStageLimit: 96,
    middleStageLimit: 113,
    goodStageLimit: 131,
    veryGoodStageLimit: 165,
    minScale: 21,
    scale39: 96,
    scale49: 113,
    scale59: 131,
    maxScale: 165,
  },
  {
    sex: 'male',
    age: 3,
    a: 0.7497,
    b: 9.7561,
    lowerLimit: 25,
    lowerLimitPoints: 27,
    upperLimit: 101,
    upperLimitPoints: 86,
    badStageLimit: 21,
    weakStageLimit: 39,
    middleStageLimit: 52,
    goodStageLimit: 66,
    veryGoodStageLimit: 170,
    minScale: 21,
    scale39: 39,
    scale49: 52,
    scale59: 66,
    maxScale: 170,
  },
  {
    sex: 'male',
    age: 4,
    a: 0.6614,
    b: -0.3589,
    lowerLimit: 35,
    lowerLimitPoints: 23,
    upperLimit: 131,
    upperLimitPoints: 87,
    badStageLimit: 21,
    weakStageLimit: 60,
    middleStageLimit: 75,
    goodStageLimit: 90,
    veryGoodStageLimit: 170,
    minScale: 21,
    scale39: 60,
    scale49: 75,
    scale59: 90,
    maxScale: 170,
  },
  {
    sex: 'male',
    age: 5,
    a: 0.6274,
    b: -6.7498,
    lowerLimit: 45,
    lowerLimitPoints: 22,
    upperLimit: 136,
    upperLimitPoints: 81,
    badStageLimit: 21,
    weakStageLimit: 73,
    middleStageLimit: 89,
    goodStageLimit: 105,
    veryGoodStageLimit: 170,
    minScale: 21,
    scale39: 73,
    scale49: 89,
    scale59: 105,
    maxScale: 170,
  },
  {
    sex: 'male',
    age: 6,
    a: 0.6213,
    b: -16.9321,
    lowerLimit: 65,
    lowerLimitPoints: 23,
    upperLimit: 161,
    upperLimitPoints: 85,
    badStageLimit: 21,
    weakStageLimit: 90,
    middleStageLimit: 106,
    goodStageLimit: 122,
    veryGoodStageLimit: 170,
    minScale: 21,
    scale39: 90,
    scale49: 106,
    scale59: 122,
    maxScale: 170,
  },
  {
    sex: 'male',
    age: 7,
    a: 0.5954,
    b: -22.8755,
    lowerLimit: 75,
    lowerLimitPoints: 22,
    upperLimit: 161,
    upperLimitPoints: 75,
    badStageLimit: 21,
    weakStageLimit: 104,
    middleStageLimit: 121,
    goodStageLimit: 138,
    veryGoodStageLimit: 170,
    minScale: 21,
    scale39: 104,
    scale49: 121,
    scale59: 138,
    maxScale: 170,
  },
];
